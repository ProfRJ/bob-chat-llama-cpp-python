# llama-cpp-python-chat
An asynchronous chatroom interface for llama-cpp-python. Has basic prompting for relevant and less uptight responses, as well as making new characters to chat with.

## Installation:
- Create a python venv with an optional prompt: \
`python -m venv .venv`
- Enter the python venv: \
Linux: `source .venv/bin/activate` \
Windows: `.venv\Scripts\activate.bat` 
- Install required pip dependencies: \
`CMAKE_ARGS="-DGGML_CUDA=on" pip install llama-cpp-python`

## Basic Usage:
- Create the Object: 
```
llama_chat = await Llama_Chat.create(
    bot_prompt="Complexity is not the problem, ambiguity is. Simplicity does not solve ambiguity, clarity does. You will respond with clarity to user's question or request but will not simplify your response or be ambiguous.",
    llm_model_path="path/to/model.gguf"
)
```
- Call the Object:

By default, all messages will be stored together. 
```
response = await llama_chat(content="Hi.", username="user")
```
If things aren't so simple you can use a dedicated channel to store different conversations.
```
channel_info = llama_chat.get_channel_info(channel_bot_username="Bob", channel_id="1", channel_name="bobs-place", server_id="1")
response = await llama_chat(content="Hi.", channel_info=channel_info, username="user")
```

## Impersonatation and Other Prompting:
Each channel has the possibility to have a unique chatbot personality. These can be set by changing the relevant channel_info keys.
```
channel_info = llama_chat.get_channel_info(channel_id="1", channel_name="bobs-place", server_id="1")
channel_info["impersonate"] = "Bob (Evil)"
channel_info["bot_prompt"] = "The end of everything in the form of a person."

# Additionally, a `bot_prompt` can be generated by supplying a name.
channel_info['bot_prompt'] = await self.llama_chat(content="Bob (Evil)", action="impersonate", channel_info=channel_info)
```

### Other Prompting:
Currently there are basic prompts for conversation and character creation, however more can be added to the `make_prompt` function and accessed with it's `action`.
